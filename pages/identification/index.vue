<template>
      <div class="identification bg-white pt-4 px-4" >
           <div @click="stepBack" class="my-2 mx-6 hidden lg:inline-flex  items-center" style="cursor:pointer">
               <svg class="h-5 w-5 text-blue-500"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <polyline points="15 6 9 12 15 18" /></svg>
             <p class="text-blue-500">  {{$t('back')}} </p>  
              
             </div>
             <div v-if="step == 1">
                   <div class="flex justify-center items-center" style="margin-top:5rem">
                <div  style="width:26.6rem;">
                    <h2 class="font-bold text-2xl">Identifikatsiya</h2>
                    <p class="text-gray-500  my-5">Jismoniy shaxs sifatida identifikatsiyadan o‘tish uchun mobil hisobingizda yetarlicha mablag‘ bo‘lishi lozim.</p>
                    <hr class="hr_line my-5">
                      <p class="text-t_secondary mb-2" >Pasport (ID karta) seriya va raqami </p>

                      <input type="text" placeholder="ID karta" class="input " v-mask="">
                        <p class="text-t_secondary my-2">Tug'ilgan sana</p>
                         <input placeholder="Tug'ilgan sana" type="password" class="input">
                        <div class="flex justify-center items-center">
         </div>
          <div class="flex items-center mt-4 ">
          <input type="checkbox">
            <p style="font-size:12px" class="text-t_secondary ml-4">“Davom etish” bilan sizning mobil hisobingizdan 2000 so‘m 
miqdorida mablag‘ yechib olinadi. </p>
          </div>

                         <button @click="stepGo"  class="bg-t_primary hover:bg-blue-700 text-white mt-4 py-4  text-white py-2 px-4 rounded w-full">Kirish</button>

                </div>
               
            </div>
             </div>

             <div v-if="step == 2">
               <div class="flex justify-center items-center w-full" style="margin-top:5rem">
                <div  >
                  
                   <div class="camera_field flex justify-center flex-col">
                       <h2 class="font-bold text-2xl" style="text-align:center">Identifikatsiya</h2>
                     <div class="video_wrapper mt-4 m-auto">
                       <div class="video flex justify-center">
                         <video ref="video" autoplay muted width="400"  height="400"></video>
                       </div>

                      
                     </div>
                   </div> 
                     <h2 class="text-center my-4 font-bold ">Kameraga qarang</h2>
                     <p>Yuzni maxsus joyga qarating Kamerani harakatlantirmang</p>

                </div>
               
            </div>
                 
             </div>

             <div v-if="step == 3">
                 <div class="flex justify-center items-center" style="margin-top:5rem">
                <div  style="width:26.6rem;">
                  
                      <div class="flex justify-center">
                          <svg width="330" height="158" viewBox="0 0 330 158" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M132.586 88.1145V90.5664H110.595V88.6125L128.371 66.2003H110.863V63.7484H132.126V65.7023L114.388 88.1145H132.586ZM154.604 81.3333H137.747C137.9 83.4277 138.705 85.1262 140.161 86.4288C141.616 87.7058 143.455 88.3443 145.677 88.3443C146.929 88.3443 148.078 88.1272 149.125 87.693C150.173 87.2333 151.079 86.5692 151.846 85.7008L153.378 87.4632C152.484 88.5359 151.36 89.3532 150.007 89.9151C148.678 90.477 147.21 90.758 145.601 90.758C143.532 90.758 141.693 90.3238 140.084 89.4554C138.5 88.5614 137.262 87.3355 136.368 85.7775C135.474 84.2195 135.027 82.4571 135.027 80.4905C135.027 78.5238 135.448 76.7615 136.291 75.2035C137.159 73.6455 138.334 72.4323 139.816 71.5639C141.323 70.6955 143.008 70.2613 144.873 70.2613C146.737 70.2613 148.41 70.6955 149.892 71.5639C151.373 72.4323 152.535 73.6455 153.378 75.2035C154.221 76.736 154.642 78.4983 154.642 80.4905L154.604 81.3333ZM144.873 72.5983C142.932 72.5983 141.297 73.2241 139.969 74.4756C138.666 75.7016 137.926 77.3106 137.747 79.3028H152.037C151.858 77.3106 151.105 75.7016 149.777 74.4756C148.474 73.2241 146.84 72.5983 144.873 72.5983ZM162.784 74.3606C163.423 73.007 164.368 71.9853 165.619 71.2957C166.896 70.6061 168.467 70.2613 170.331 70.2613V72.9048L169.68 72.8665C167.56 72.8665 165.9 73.5178 164.7 74.8204C163.499 76.123 162.899 77.9492 162.899 80.2989V90.5664H160.179V70.4146H162.784V74.3606ZM183.306 90.758C181.365 90.758 179.616 90.3238 178.058 89.4554C176.5 88.5614 175.274 87.3355 174.38 85.7775C173.486 84.2195 173.039 82.4571 173.039 80.4905C173.039 78.5238 173.486 76.7615 174.38 75.2035C175.274 73.6455 176.5 72.4323 178.058 71.5639C179.616 70.6955 181.365 70.2613 183.306 70.2613C185.248 70.2613 186.997 70.6955 188.555 71.5639C190.113 72.4323 191.326 73.6455 192.195 75.2035C193.089 76.7615 193.536 78.5238 193.536 80.4905C193.536 82.4571 193.089 84.2195 192.195 85.7775C191.326 87.3355 190.113 88.5614 188.555 89.4554C186.997 90.3238 185.248 90.758 183.306 90.758ZM183.306 88.3443C184.737 88.3443 186.014 88.0251 187.138 87.3866C188.287 86.7225 189.181 85.7902 189.819 84.5898C190.458 83.3894 190.777 82.0229 190.777 80.4905C190.777 78.958 190.458 77.5916 189.819 76.3912C189.181 75.1907 188.287 74.2713 187.138 73.6327C186.014 72.9687 184.737 72.6366 183.306 72.6366C181.876 72.6366 180.586 72.9687 179.437 73.6327C178.313 74.2713 177.419 75.1907 176.755 76.3912C176.117 77.5916 175.797 78.958 175.797 80.4905C175.797 82.0229 176.117 83.3894 176.755 84.5898C177.419 85.7902 178.313 86.7225 179.437 87.3866C180.586 88.0251 181.876 88.3443 183.306 88.3443Z" fill="#2D62B6"/>
<path d="M216.482 90.5664L207.824 78.7665L199.204 90.5664H195.947L206.138 76.7743L196.599 63.7484H199.855L207.939 74.7055L215.984 63.7484H219.049L209.548 76.6976L219.777 90.5664H216.482Z" fill="#FE5E58"/>
<path d="M167.682 6.09905L175.912 6.09905L143.825 44.4105L135.684 44.4105L167.682 6.09905Z" fill="#2D62B6"/>
<path d="M184.764 15.392L192.994 15.392L160.907 53.7035L152.766 53.7035L184.764 15.392Z" fill="#2D62B6"/>
<path d="M168.797 20.1781L175.75 20.1781L160.265 38.9815L152.921 38.9815L168.797 20.1781Z" fill="#FE5E58"/>
<path d="M0 157.281H329.667" stroke="url(#paint0_linear_254_12391)" stroke-width="1.41336"/>
<path d="M86.7938 117.497H88.7725V131.348H86.7938V117.497ZM95.6499 131.466C94.7925 131.466 93.968 131.354 93.1765 131.13C92.385 130.893 91.765 130.596 91.3165 130.24L92.108 128.736C92.5697 129.066 93.1304 129.329 93.7899 129.527C94.4495 129.725 95.1157 129.824 95.7884 129.824C97.4505 129.824 98.2816 129.349 98.2816 128.399C98.2816 128.083 98.1695 127.832 97.9452 127.647C97.721 127.463 97.4373 127.331 97.0944 127.252C96.7646 127.159 96.2897 127.06 95.6697 126.955C94.8254 126.823 94.1329 126.671 93.592 126.5C93.0644 126.328 92.6093 126.038 92.2267 125.629C91.8442 125.22 91.6529 124.646 91.6529 123.908C91.6529 122.958 92.0487 122.199 92.8401 121.632C93.6316 121.052 94.6935 120.762 96.0259 120.762C96.725 120.762 97.4241 120.847 98.1233 121.019C98.8224 121.19 99.3963 121.421 99.8448 121.711L99.0335 123.215C98.1761 122.661 97.1669 122.384 96.0061 122.384C95.2014 122.384 94.588 122.516 94.1659 122.78C93.7438 123.044 93.5327 123.393 93.5327 123.829C93.5327 124.172 93.6514 124.442 93.8889 124.64C94.1263 124.838 94.4165 124.983 94.7595 125.075C95.1157 125.167 95.6103 125.273 96.2435 125.392C97.0878 125.537 97.7671 125.695 98.2816 125.867C98.8092 126.025 99.2578 126.302 99.6271 126.698C99.9965 127.093 100.181 127.647 100.181 128.36C100.181 129.31 99.7722 130.068 98.9544 130.635C98.1497 131.189 97.0482 131.466 95.6499 131.466ZM108.155 120.762C109.487 120.762 110.543 121.151 111.321 121.929C112.112 122.694 112.508 123.822 112.508 125.313V131.348H110.608V125.53C110.608 124.515 110.364 123.749 109.876 123.235C109.388 122.72 108.689 122.463 107.779 122.463C106.75 122.463 105.939 122.767 105.345 123.373C104.752 123.967 104.455 124.825 104.455 125.946V131.348H102.555V116.666H104.455V122.345C104.85 121.843 105.365 121.454 105.998 121.177C106.644 120.9 107.363 120.762 108.155 120.762ZM120.573 131.466C119.531 131.466 118.594 131.236 117.763 130.774C116.932 130.312 116.279 129.679 115.804 128.874C115.343 128.056 115.112 127.133 115.112 126.104C115.112 125.075 115.343 124.158 115.804 123.354C116.279 122.536 116.932 121.903 117.763 121.454C118.594 120.992 119.531 120.762 120.573 120.762C121.615 120.762 122.545 120.992 123.363 121.454C124.194 121.903 124.841 122.536 125.302 123.354C125.777 124.158 126.015 125.075 126.015 126.104C126.015 127.133 125.777 128.056 125.302 128.874C124.841 129.679 124.194 130.312 123.363 130.774C122.545 131.236 121.615 131.466 120.573 131.466ZM120.573 129.804C121.246 129.804 121.846 129.653 122.374 129.349C122.915 129.033 123.337 128.597 123.64 128.043C123.944 127.476 124.095 126.83 124.095 126.104C124.095 125.379 123.944 124.739 123.64 124.185C123.337 123.617 122.915 123.182 122.374 122.879C121.846 122.575 121.246 122.424 120.573 122.424C119.9 122.424 119.294 122.575 118.753 122.879C118.225 123.182 117.803 123.617 117.486 124.185C117.183 124.739 117.031 125.379 117.031 126.104C117.031 126.83 117.183 127.476 117.486 128.043C117.803 128.597 118.225 129.033 118.753 129.349C119.294 129.653 119.9 129.804 120.573 129.804ZM134.241 120.762C135.574 120.762 136.629 121.151 137.407 121.929C138.199 122.694 138.595 123.822 138.595 125.313V131.348H136.695V125.53C136.695 124.515 136.451 123.749 135.963 123.235C135.475 122.72 134.776 122.463 133.865 122.463C132.836 122.463 132.025 122.767 131.432 123.373C130.838 123.967 130.541 124.825 130.541 125.946V131.348H128.642V120.86H130.462V122.443C130.845 121.903 131.359 121.487 132.005 121.197C132.665 120.907 133.41 120.762 134.241 120.762ZM146.739 131.466C145.67 131.466 144.714 131.236 143.87 130.774C143.039 130.312 142.386 129.679 141.911 128.874C141.436 128.056 141.198 127.133 141.198 126.104C141.198 125.075 141.436 124.158 141.911 123.354C142.386 122.536 143.039 121.903 143.87 121.454C144.714 120.992 145.67 120.762 146.739 120.762C147.689 120.762 148.533 120.953 149.272 121.335C150.023 121.718 150.604 122.272 151.013 122.998L149.568 123.927C149.239 123.426 148.83 123.05 148.342 122.8C147.853 122.549 147.313 122.424 146.719 122.424C146.033 122.424 145.413 122.575 144.859 122.879C144.318 123.182 143.889 123.617 143.573 124.185C143.269 124.739 143.118 125.379 143.118 126.104C143.118 126.843 143.269 127.496 143.573 128.063C143.889 128.617 144.318 129.046 144.859 129.349C145.413 129.653 146.033 129.804 146.719 129.804C147.313 129.804 147.853 129.679 148.342 129.428C148.83 129.178 149.239 128.802 149.568 128.3L151.013 129.211C150.604 129.936 150.023 130.497 149.272 130.893C148.533 131.275 147.689 131.466 146.739 131.466ZM158.937 120.762C160.269 120.762 161.324 121.151 162.103 121.929C162.894 122.694 163.29 123.822 163.29 125.313V131.348H161.39V125.53C161.39 124.515 161.146 123.749 160.658 123.235C160.17 122.72 159.471 122.463 158.561 122.463C157.532 122.463 156.72 122.767 156.127 123.373C155.533 123.967 155.236 124.825 155.236 125.946V131.348H153.337V116.666H155.236V122.345C155.632 121.843 156.147 121.454 156.78 121.177C157.426 120.9 158.145 120.762 158.937 120.762ZM176.195 126.46L174.019 128.479V131.348H172.119V116.666H174.019V126.084L179.737 120.86H182.032L177.62 125.194L182.468 131.348H180.133L176.195 126.46ZM187.938 120.762C189.389 120.762 190.497 121.118 191.262 121.83C192.04 122.542 192.429 123.604 192.429 125.016V131.348H190.629V129.963C190.312 130.451 189.857 130.827 189.264 131.09C188.683 131.341 187.991 131.466 187.186 131.466C186.012 131.466 185.069 131.183 184.356 130.616C183.657 130.048 183.308 129.303 183.308 128.38C183.308 127.456 183.644 126.717 184.317 126.163C184.99 125.596 186.058 125.313 187.522 125.313H190.53V124.937C190.53 124.119 190.292 123.492 189.818 123.057C189.343 122.622 188.644 122.404 187.72 122.404C187.1 122.404 186.493 122.509 185.9 122.72C185.306 122.918 184.805 123.189 184.396 123.532L183.604 122.107C184.145 121.672 184.792 121.342 185.544 121.118C186.295 120.88 187.094 120.762 187.938 120.762ZM187.503 130.002C188.228 130.002 188.855 129.844 189.382 129.527C189.91 129.197 190.292 128.736 190.53 128.142V126.678H187.601C185.992 126.678 185.187 127.219 185.187 128.3C185.187 128.828 185.392 129.244 185.801 129.547C186.21 129.85 186.777 130.002 187.503 130.002ZM199.783 118.11C198.649 118.11 198.082 118.723 198.082 119.95V120.86H201.129V122.424H198.121V131.348H196.222V122.424H194.441V120.86H196.222V119.931C196.222 118.888 196.525 118.064 197.132 117.457C197.739 116.85 198.59 116.547 199.685 116.547C200.107 116.547 200.502 116.6 200.872 116.705C201.241 116.811 201.558 116.962 201.822 117.16L201.248 118.605C200.812 118.275 200.324 118.11 199.783 118.11ZM207.258 131.466C206.215 131.466 205.279 131.236 204.448 130.774C203.617 130.312 202.964 129.679 202.489 128.874C202.027 128.056 201.796 127.133 201.796 126.104C201.796 125.075 202.027 124.158 202.489 123.354C202.964 122.536 203.617 121.903 204.448 121.454C205.279 120.992 206.215 120.762 207.258 120.762C208.3 120.762 209.23 120.992 210.048 121.454C210.879 121.903 211.525 122.536 211.987 123.354C212.462 124.158 212.699 125.075 212.699 126.104C212.699 127.133 212.462 128.056 211.987 128.874C211.525 129.679 210.879 130.312 210.048 130.774C209.23 131.236 208.3 131.466 207.258 131.466ZM207.258 129.804C207.93 129.804 208.531 129.653 209.058 129.349C209.599 129.033 210.021 128.597 210.325 128.043C210.628 127.476 210.78 126.83 210.78 126.104C210.78 125.379 210.628 124.739 210.325 124.185C210.021 123.617 209.599 123.182 209.058 122.879C208.531 122.575 207.93 122.424 207.258 122.424C206.585 122.424 205.978 122.575 205.437 122.879C204.91 123.182 204.487 123.617 204.171 124.185C203.867 124.739 203.716 125.379 203.716 126.104C203.716 126.83 203.867 127.476 204.171 128.043C204.487 128.597 204.91 129.033 205.437 129.349C205.978 129.653 206.585 129.804 207.258 129.804ZM215.326 116.666H217.226V131.348H215.326V116.666ZM224.671 120.762C226.123 120.762 227.231 121.118 227.996 121.83C228.774 122.542 229.163 123.604 229.163 125.016V131.348H227.363V129.963C227.046 130.451 226.591 130.827 225.997 131.09C225.417 131.341 224.724 131.466 223.92 131.466C222.746 131.466 221.802 131.183 221.09 130.616C220.391 130.048 220.041 129.303 220.041 128.38C220.041 127.456 220.378 126.717 221.05 126.163C221.723 125.596 222.792 125.313 224.256 125.313H227.264V124.937C227.264 124.119 227.026 123.492 226.551 123.057C226.076 122.622 225.377 122.404 224.454 122.404C223.834 122.404 223.227 122.509 222.633 122.72C222.04 122.918 221.539 123.189 221.13 123.532L220.338 122.107C220.879 121.672 221.525 121.342 222.277 121.118C223.029 120.88 223.827 120.762 224.671 120.762ZM224.236 130.002C224.962 130.002 225.588 129.844 226.116 129.527C226.644 129.197 227.026 128.736 227.264 128.142V126.678H224.335C222.726 126.678 221.921 127.219 221.921 128.3C221.921 128.828 222.126 129.244 222.534 129.547C222.943 129.85 223.511 130.002 224.236 130.002ZM238.575 130.734C238.298 130.972 237.955 131.156 237.546 131.288C237.137 131.407 236.715 131.466 236.28 131.466C235.224 131.466 234.407 131.183 233.826 130.616C233.246 130.048 232.955 129.237 232.955 128.182V122.424H231.175V120.86H232.955V118.565H234.855V120.86H237.863V122.424H234.855V128.103C234.855 128.67 234.994 129.105 235.271 129.409C235.561 129.712 235.97 129.864 236.497 129.864C237.078 129.864 237.572 129.699 237.981 129.369L238.575 130.734ZM240.872 120.86H242.771V131.348H240.872V120.86ZM241.821 118.842C241.452 118.842 241.142 118.723 240.891 118.486C240.654 118.249 240.535 117.958 240.535 117.615C240.535 117.272 240.654 116.982 240.891 116.745C241.142 116.494 241.452 116.369 241.821 116.369C242.191 116.369 242.494 116.488 242.732 116.725C242.982 116.949 243.107 117.233 243.107 117.576C243.107 117.932 242.982 118.235 242.732 118.486C242.494 118.723 242.191 118.842 241.821 118.842Z" fill="#2D3748"/>
<defs>
<linearGradient id="paint0_linear_254_12391" x1="0" y1="157.281" x2="326.487" y2="157.281" gradientUnits="userSpaceOnUse">
<stop stop-color="#E0E1E2" stop-opacity="0"/>
<stop offset="0.5" stop-color="#E0E1E2"/>
<stop offset="1" stop-color="#E0E1E2" stop-opacity="0.15625"/>
</linearGradient>
</defs>
</svg>

                      </div>
           
                   
                    <hr class="hr_line my-5">
                                <div class="flex items-center mt-4 ">
          <input type="checkbox">
            <p class="text-t_secondary ml-4" style="font-size:12px">Universal shartnoma bilan tanishib chiqib,
shartnomaning barcha shartlariga rozi ekanligimni tasdiqlayman.</p>
          </div>

                         <button  class="bg-t_primary hover:bg-blue-700 text-white  py-4  text-white py-2 px-4 mt-16 rounded w-full">Davom etish</button>
          
                </div>
               
            </div>
             </div>

             <div v-if="step == 4">
     <div class="flex justify-center items-center" style="margin-top:5rem">
                <div  style="width:26.6rem;">
                    <h2 class="font-bold text-3xl">Avtorizatsiya</h2>
                    <p class="text-gray-500  my-5">Maxfiy so‘z yaratish </p>
                    <hr class="hr_line my-5">
                      <p class="text-t_secondary mb-2" >Maxfiy so‘z uchun savol yarating</p>

                      <input type="text" class="input " v-mask="">
                        <p class="text-t_secondary my-2">Maxfiy so‘zni yarating</p>
                         <input type="password" class="input">
                         <button  class="bg-t_primary hover:bg-blue-700 text-white mt-6 py-4  text-white py-2 px-4 rounded w-full">Davom etish</button>
             
                </div>
               
            </div>

             </div>
          
    </div>
</template>

<script>
import { required, minLength, helpers } from "vuelidate/lib/validators";
export default {
   middleware:'auth',
  name: "identification",
  validations:{
    idCard:{
      required
    },
    bithDate:{
      required
    }
  },
  data :() => ({
      step:1,
      idCard:"",
      bithDate:"",
      stream:null,
      check2:false,

  }),
  methods: {
      stepBack () {
                if(this.step == 1) {
                   return  this.step = 1
                }
                
           if(this.stream) { this.stream.getTracks().forEach(track => track.stop())
                this.step = this.step - 1
            }
 
      },
              async stepGo () {
                console.log('step')
                this.step = this.step + 1
                 try {
                   this.stream  = await navigator.mediaDevices.getUserMedia({video:true});
                    this.$refs.video.srcObject = this.stream
        } 
        catch(err) {
          console.error("Error: " + err);
        }
            }
  },
async  mounted() {
       
    console.log(this.$refs.video)
  }
};
</script>

<style lang="css" scoped>
.identification {
  padding-bottom: 8rem;
}
.hr_line {
  border: none;
  height: 0.2px;
  /* Set the hr color */
  color: #f5f5f5; /* old IE */
  background-color: #f5f5f5; /* Modern Browsers */
}

.input {
  border: 1px solid #1565d8;
  width: 100%;
  height: 50px;
  text-indent: 10px;
  border-radius: 5px;
      transition: all 0.2s ease
}

input:focus {
  outline: none;
  box-shadow: 0px 4px 10px 3px rgba(0, 0, 0, 0.11);
  border: 1px solid #1565d8;
}

input[type="checkbox"] {
  height: 20px;
  width: 25px;
}
.video_wrapper {
display: flex;
align-items: center;
justify-content: center;
width: 200px;
height: 200px;

overflow: hidden;
}
</style>